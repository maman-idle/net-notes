Rapid Spanning Tree

Ok. We know that STP is necessary to implement in order to avoid broadcaststorm. But in practice, STP or PVST takes quite a lot of time to converge. The Root Bridge will send hello message (BPDU) in configured period of time, to tell its neighboring switches that "I'm alive". This BPDU need to be heard for other switches or if there is a new switch that just connected to the network. For other switch (established), if they receive this BPDU from the Root Bridge, they will forward it out from its forwarding port so other switches which connect to it can receive the BPDU, and this process happened on and on until the BPDU reaches the last switch in the network. That's only the Root Bridge BPDU, but this BPDU sending message is happening on every single switches. 

So here enter a new switch. Lets say this new switch is not directly connected to the Root Bridge. Once the new switch is connected (with cable) to another switch, its connected port will enter the Blocking state for a moment, and then changed to Listening state. In the Listening state, the port will listens to other BPDU and sends its own BPDU. After the Listening state, the port will change it state to the Learning state. In this state, the port will stop sending its own BPDU but will receive the superior BPDU, and it will fill its mac-address table from the receiving frames. After the Learning state, finally the port can move the state to Forwarding and start forwarding frames. Phew, those process of changing states from Blocking to Forwarding, approximately took the STP/PVST about 50seconds (blocking 20s, listening 15s, and learning 15s). That's a lot of time! Imagine users behind the new switch, wanting to send their data but they can't because the port on the switch still on either Blocking or Listening or Learning state, and the port will drop their frames.

Here is where the Rapid Spanning Tree (RST) come in help on cutting down that transition state time on ports. RST doesn't use Blocking and Listening state, instead they use Discarding state. In this state, the port will not forward frame but will listen for BPDU. After the Discarding state, the port changes its state to Learning, again, in this state the port won't send any frame but it will starts to populate its mac-address table with the received BPDU. Few seconds pass in, the state of the port will change to the Forwarding state where it is able to forward frames. On time wise, RSTP can cut the transition state from 50seconds (PVST) to 10seconds or lower, but that still depend on the topology of the network, more complicated network means more time for STP to converge even though using RSTP.   